# Error Doctor

에러를 자동으로 분석하고 해결책을 제시하는 스킬입니다.

## 실행 방법

사용자가 다음과 같이 요청하면 이 스킬이 활성화됩니다:
- "에러 분석해줘"
- "왜 안 되지?"
- "이 에러 해결해줘"
- `/error-doctor`

## 에러 분석 절차

### 1단계: 에러 수집
```
1. 터미널 출력에서 에러 메시지 확인
2. 브라우저 콘솔 에러 확인 (사용자가 제공 시)
3. 빌드/컴파일 에러 로그 확인
```

### 2단계: 에러 분류

| 카테고리 | 패턴 | 우선순위 |
|---------|------|---------|
| **빌드 에러** | `Module not found`, `SyntaxError`, `TypeError` | 🔴 높음 |
| **런타임 에러** | `undefined is not`, `Cannot read property` | 🔴 높음 |
| **API 에러** | `403`, `404`, `500`, `CORS` | 🟠 중간 |
| **경고** | `Warning:`, `Deprecation` | 🟢 낮음 |

### 3단계: 원인 분석

**React 에러:**
| 에러 | 원인 | 해결책 |
|------|------|--------|
| `Invalid hook call` | 훅 규칙 위반 | 컴포넌트 최상위에서만 훅 호출 |
| `Too many re-renders` | 무한 루프 | useEffect 의존성 확인, setState 조건 확인 |
| `Cannot update unmounted` | 메모리 누수 | cleanup 함수 추가 |

**API 에러:**
| 상태 코드 | 원인 | 해결책 |
|----------|------|--------|
| `401` | 인증 실패 | API 키/토큰 확인 |
| `403` | 권한 없음 | 권한 설정 확인 |
| `404` | 경로 없음 | URL 확인, API 라우트 존재 여부 |
| `429` | Rate limit | 요청 간격 조절, 재시도 로직 |
| `500` | 서버 에러 | 서버 로그 확인, 환경변수 확인 |

**AI API 에러:**
| 에러 | 원인 | 해결책 |
|------|------|--------|
| `PERMISSION_DENIED` | API 키 권한 없음 | API 키 재발급, 권한 확인 |
| `RESOURCE_EXHAUSTED` | 할당량 초과 | 대기 후 재시도, 할당량 증가 |
| `INVALID_ARGUMENT` | 잘못된 파라미터 | 요청 형식 검증 |
| `safety filter` | 콘텐츠 차단 | 프롬프트 수정 |

### 4단계: 해결책 제시

1. **즉시 수정 가능**: 코드 수정 제안
2. **설정 필요**: 환경변수, 설정 파일 안내
3. **외부 조치 필요**: GCP 콘솔, Vercel 대시보드 등 안내

## 자동 수정 가능한 에러

- `import` 경로 오류
- 누락된 `export`
- 오타로 인한 `undefined`
- 잘못된 prop 타입

## 사용 예시

```
사용자: 이미지 생성이 안 돼
Claude: [error-doctor 실행]
        1. 콘솔 에러 확인: "403 PERMISSION_DENIED"
        2. 원인: Gemini API 키 권한 문제
        3. 해결책:
           - Vercel 환경변수 GEMINI_API_KEY 확인
           - Google AI Studio에서 키 재발급
```

## 연동 스킬

- **gen-ai**: 이미지/영상 생성 에러 분석
- **ftw**: 컴포넌트 빌드 에러 분석
